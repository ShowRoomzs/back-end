# 프로덕션 환경 설정
spring:
  jpa:
    show-sql: false  # 프로덕션에서는 SQL 쿼리 출력하지 않음
    hibernate:
      ddl-auto: validate  # 프로덕션에서는 스키마 검증만 수행 (자동 생성 안 함)

  # Flyway 설정 추가
  flyway:
    enabled: true
    # 기존에 생성된 테이블이 있다면 메타데이터 테이블을 생성하여 관리 시작 (필수 설정)
    baseline-on-migrate: true
    baseline-version: 1

# 로깅 설정 (프로덕션은 최소화)
logging:
  level:
    root: INFO
    showroomz: INFO
    org.springframework.security: WARN
    org.springframework.web: WARN
    org.hibernate: WARN
    org.springframework.boot: WARN


# Sentry 설정 (프로덕션은 샘플링 적용)
sentry:
  traces-sample-rate: 1.0 # 성능 모니터링 샘플링 비율 (프로덕션은 10% 수집 권장)
  environment: production
  
  # 아래 예외 클래스들은 Sentry로 전송하지 않음
  ignored-exceptions-for-type:
    - org.springframework.web.servlet.resource.NoResourceFoundException
    - org.springframework.web.HttpMediaTypeNotAcceptableException # 봇 공격 방어용 추가 권장
    - org.springframework.web.HttpRequestMethodNotSupportedException # 봇 공격 방어용 추가 권장  
    - showroomz.global.error.exception.BusinessException
